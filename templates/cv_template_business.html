<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>{{ personal_info.name }} - CV</title>
  <style>
    @page {
      size: A4;
      margin: 0.8cm;
    }

    body {
      font-family: "Inter", "Segoe UI", "Arial", sans-serif;
      line-height: 1.2;
      font-size: 8.5pt;
      color: #1f2937;
      background: #ffffff;
      margin: 0;
      padding: 0;
    }

    h1 {
      font-size: 20pt;
      color: #ffffff;
      margin: 0;
      font-weight: 700;
      letter-spacing: -0.5px;
    }

    h2 {
      font-size: 9pt;
      color: #374151;
      margin: 0.6em 0 0.3em 0;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 1px;
      border-left: 3px solid #6366f1;
      padding-left: 8px;
      background: #f8fafc;
      padding: 0.2em 0 0.2em 8px;
    }

    p {
      font-size: 8pt;
      margin: 0.2em 0;
      color: #374151;
      line-height: 1.3;
    }

    .header {
      background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%);
      color: white;
      padding: 0.8em;
      margin: -0.8cm -0.8cm 0.8em -0.8cm;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .contact-compact {
      font-size: 7.5pt;
      display: flex;
      flex-wrap: wrap;
      gap: 0.5em;
      opacity: 0.9;
    }

    .contact-item {
      display: flex;
      align-items: center;
      gap: 3px;
    }

    .contact-icon {
      width: 8px;
      height: 8px;
      fill: white;
    }

    /* Two-column layout */
    .content {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 1em;
      margin-top: 0.5em;
    }

    .left-column, .right-column {
      min-height: 0;
    }

    /* Remove bullets for main section lists */
    ul {
      list-style: none;
      margin: 0;
      padding: 0;
    }

    /* Compact bullets for nested lists */
    ul ul {
      list-style: none;
      margin-left: 0.8em;
      margin-top: 0.2em;
      margin-bottom: 0.2em;
    }

    ul ul li:before {
      content: "â€¢";
      color: #6366f1;
      margin-right: 6px;
      font-size: 7pt;
    }

    li {
      margin-bottom: 0.4em;
    }

    .entry {
      margin-bottom: 0.5em;
      padding-bottom: 0.3em;
      border-bottom: 1px solid #f3f4f6;
    }

    .entry:last-child {
      border-bottom: none;
    }

    .entry-title {
      font-weight: 700;
      font-size: 8.5pt;
      color: #111827;
      margin-bottom: 0.1em;
    }

    .entry-company {
      font-size: 7.5pt;
      color: #6366f1;
      font-weight: 600;
      margin-bottom: 0.1em;
    }

    .entry-meta {
      font-size: 7pt;
      color: #6b7280;
      margin-bottom: 0.2em;
    }

    .entry-description {
      font-size: 7.5pt;
      color: #4b5563;
      margin-bottom: 0.2em;
      line-height: 1.2;
    }

    .skills-inline {
      display: flex;
      flex-wrap: wrap;
      gap: 3px;
      margin-top: 0.2em;
    }

    .skill-tag {
      background: #f1f5f9;
      color: #475569;
      padding: 1px 5px;
      border-radius: 8px;
      font-size: 6.5pt;
      font-weight: 500;
      border: 1px solid #e2e8f0;
    }

    .skill-tag:nth-child(3n+1) {
      background: #e0e7ff;
      color: #3730a3;
    }

    .skill-tag:nth-child(3n+2) {
      background: #fce7f3;
      color: #be185d;
    }

    a {
      color: white;
      text-decoration: none;
    }
    
    a:hover {
      text-decoration: underline;
    }

    .summary-text {
      font-size: 8pt;
      color: #374151;
      margin-bottom: 0.8em;
      padding: 0.5em;
      background: #f8fafc;
      border-radius: 6px;
      border-left: 3px solid #6366f1;
      line-height: 1.3;
    }

    .skills-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 4px;
      margin-top: 0.3em;
    }

    .skill-main {
      background: #ffffff;
      border: 1px solid #e5e7eb;
      padding: 0.2em 0.4em;
      border-radius: 4px;
      text-align: center;
      font-size: 7pt;
      font-weight: 500;
      color: #374151;
    }

    .section-compact {
      margin-bottom: 0.8em;
    }
  </style>
</head>
<body>

  <!-- Compact Header -->
  <div class="header">
    <div>
      <h1>{{ personal_info.name }}</h1>
    </div>
    <div class="contact-compact">
      <div class="contact-item">
        <svg class="contact-icon" viewBox="0 0 24 24"><path d="M3 5a2 2 0 012-2h14a2 2 0 012 2v14a2 2 0 01-2 2H5a2 2 0 01-2-2V5zM5.5 6L12 12.5 18.5 6h-13zM6 7.5v9.5h12V7.5l-6 6-6-6z"/></svg>
        <a href="mailto:{{ personal_info.email }}">{{ personal_info.email }}</a>
      </div>
      <div class="contact-item">
        <svg class="contact-icon" viewBox="0 0 24 24"><path d="M3 5a2 2 0 012-2h14a2 2 0 012 2v14a2 2 0 01-2 2H5a2 2 0 01-2-2V5zm6.5 6a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0z"/></svg>
        {{ personal_info.phone }}
      </div>
      {% if personal_info.linkedin %}
      <div class="contact-item">
        <svg class="contact-icon" viewBox="0 0 24 24"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286z"/></svg>
        <a href="{{ personal_info.linkedin }}">LinkedIn</a>
      </div>
      {% endif %}
      {% if personal_info.github %}
      <div class="contact-item">
        <svg class="contact-icon" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997z"/></svg>
        <a href="{{ personal_info.github }}">GitHub</a>
      </div>
      {% endif %}
      {% if personal_info.languages %}
      <div class="contact-item">
        <svg class="contact-icon" viewBox="0 0 24 24"><path d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04z"/></svg>
        {% for lang in personal_info.languages %}{{ lang }}{% if not loop.last %}, {% endif %}{% endfor %}
      </div>
      {% endif %}
    </div>
  </div>

  <!-- Summary -->
  <div class="summary-text">{{ summary }}</div>

  <!-- Two-column layout -->
  <div class="content">
    
    <!-- Left Column -->
    <div class="left-column">
      
      <!-- Experience -->
      <div class="section-compact">
        <h2>Experience</h2>
        {% for exp in experience %}
          <div class="entry">
            <div class="entry-title">{{ exp.title }}</div>
            <div class="entry-company">{{ exp.company }}</div>
            <div class="entry-meta">{{ exp.years }}{% if exp.location %} â€¢ {{ exp.location }}{% endif %}</div>
            {% if exp.description %}<div class="entry-description">{{ exp.description }}</div>{% endif %}
            {% if exp.descrition_list %}
              <ul>
              {% for d in exp.descrition_list %}
                <li class="entry-description">{{ d }}</li>
              {% endfor %}
              </ul>
            {% endif %}
            {% if exp.skills %}
              <div class="skills-inline">
                {% for s in exp.skills %}
                  <span class="skill-tag">{{ s }}</span>
                {% endfor %}
              </div>
            {% endif %}
          </div>
        {% endfor %}
      </div>

      <!-- Projects -->
      <div class="section-compact">
        <h2>Key Projects</h2>
        {% for project in projects %}
          <div class="entry">
            <div class="entry-title">
              {% if project.url %}ðŸ”— {% endif %}{{ project.name }}
            </div>
            <div class="entry-meta">{% if project.role %}{{ project.role }} â€¢ {% endif %}{{ project.year }}</div>
            <div class="entry-description">{{ project.description }}</div>
            {% if project.skills %}
              <div class="skills-inline">
                {% for s in project.skills %}
                  <span class="skill-tag">{{ s }}</span>
                {% endfor %}
              </div>
            {% endif %}
          </div>
        {% endfor %}
      </div>
      
    </div>

    <!-- Right Column -->
    <div class="right-column">
      
      <!-- Education -->
      <div class="section-compact">
        <h2>Education</h2>
        {% for edu in education %}
          <div class="entry">
            <div class="entry-title">{{ edu.degree }}</div>
            <div class="entry-company">{{ edu.institution }}</div>
            <div class="entry-meta">{{ edu.year }}{% if edu.location %} â€¢ {{ edu.location }}{% endif %}</div>
            {% if edu.description %}<div class="entry-description">{{ edu.description }}</div>{% endif %}
            {% if edu.grade %}<div class="entry-description"><strong>Grade:</strong> {{ edu.grade }}</div>{% endif %}
          </div>
        {% endfor %}
      </div>

      <!-- Skills -->
      <div class="section-compact">
        <h2>Core Skills</h2>
        <div class="skills-grid">
          {% for s in skills %}
            <div class="skill-main">{{ s }}</div>
          {% endfor %}
        </div>
      </div>

      <!-- Additional Info -->
      {% if personal_info.nationality or personal_info.age %}
      <div class="section-compact">
        <h2>Personal</h2>
        <div class="entry-description">
          {% if personal_info.nationality %}Nationality: {{ personal_info.nationality }}{% endif %}{% if personal_info.age and personal_info.nationality %}<br>{% endif %}{% if personal_info.age %}Age: {{ personal_info.age }} years{% endif %}
        </div>
      </div>
      {% endif %}
      
    </div>
  </div>

</body>
</html>
