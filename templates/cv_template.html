<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>{{ personal_info.name }} - CV</title>
  <style>
    @page {
      size: A4;
      margin: 1.2cm;
    }

    body {
      font-family: "Helvetica", "Arial", sans-serif;
      line-height: 1.3;
      font-size: 9.5pt;
      color: #222;
    }

    h1, h2 {
      font-weight: bold;
      border-bottom: 1px solid #000;
      padding-bottom: 0.1em;
      margin: 0.8em 0 0.4em;
    }

    h1 {
      font-size: 15pt;
      border: none;
      margin-top: 0;
    }

    h2 {
      font-size: 10.5pt;
    }

    .center {
      text-align: center;
      margin-bottom: 0.6em;
      font-size: 8.5pt;
    }

    /* Remove bullets for main section lists */
    ul {
      list-style: none;
      margin: 0;
      padding: 0;
    }

    /* Add bullets only for nested description lists */
    ul ul {
      list-style: disc;
      margin-left: 1.2em;
      margin-top: 0.2em;
      margin-bottom: 0.2em;
    }

    li {
      margin-bottom: 0.4em;
    }

    .skills {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 0.2em 0.6em;
      list-style: none;
      margin-top: 0.3em;
    }

    .small {
      font-size: 8.5pt;
      color: #555;
    }

    .small_black {
      font-size: 8.5pt;
      color: #000;
    }

    a {
      color: #000;
      text-decoration: none;
    }
    a:hover {
      text-decoration: underline;
    }

    .project-skills {
      font-size: 8.5pt;
      color: #555;
      margin: 0.2em 0 0.3em 0;
    }
  </style>
</head>
<body>

  <!-- Personal Info -->
  <div class="center">
    <h1>{{ personal_info.name }}</h1>
    {{ personal_info.nationality }} • {{ personal_info.age }} years | 
    Email: <a href="mailto:{{ personal_info.email }}">{{ personal_info.email }}</a> • 
    Phone: {{ personal_info.phone }}<br>
    <a href="{{ personal_info.linkedin }}">LinkedIn</a> | 
    <a href="{{ personal_info.github }}">GitHub</a> | 
    Languages: {% for lang in personal_info.languages %}{{ lang }}{% if not loop.last %}, {% endif %}{% endfor %}
  </div>

  <!-- Summary -->
  <h2>Summary</h2>
  <p>{{ summary }}</p>

  <!-- Education -->
  <h2>Education</h2>
  <ul>
  {% for edu in education %}
    <li>
      <b>{{ edu.degree }}</b><span class="small"> {{ edu.institution }} ({{ edu.year }})</span><br>
      <span class="small_black">{{ edu.description }} </span><span class="small"><b>Grade:</b> {{ edu.grade }}</span>
    </li>
  {% endfor %}
  </ul>

  <!-- Experience -->
<h2>Experience</h2>
<ul>
{% for exp in experience %}
  <li>
    <b>{{ exp.title }}</b><span class="small"> {{ exp.company }} ({{ exp.years }})</span><br>
    {% if exp.descrition_list %}
      <ul>
      {% for d in exp.descrition_list %}
        <li class="small_black">{{ d }}</li>
      {% endfor %}
      </ul>
    {% endif %}
    <span class="small"><b>Skills:</b> {% for s in exp.skills %}{{ s }}{% if not loop.last %}, {% endif %}{% endfor %}</span>
    {% if exp.reference %}
    <br>
    <span class="small">
      <b>Reference:</b> {{ exp.reference }}
      {% if exp.reference_letter_url %}
       &nbsp;
      <a href="{{ exp.reference_letter_url }}" title="Reference Letter">
        <!-- Mail Icon -->
        <svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 24 24" width="12" height="12"><path d="M7,6c0-.552,.448-1,1-1h8c.553,0,1,.448,1,1s-.447,1-1,1H8c-.552,0-1-.448-1-1Zm1,5h6c.553,0,1-.448,1-1s-.447-1-1-1h-6c-.552,0-1,.448-1,1s.448,1,1,1Zm16,1.708v6.292c0,2.757-2.243,5-5,5H5c-2.757,0-5-2.243-5-5v-6.292c0-1.356,.562-2.673,1.541-3.611l1.459-1.398v-3.699C3,1.794,4.794,0,7,0h10c2.206,0,4,1.794,4,4v3.699l1.459,1.397c.979,.938,1.541,2.254,1.541,3.611ZM5,4V12.243l4.878,4.879c1.134,1.133,3.11,1.133,4.243,0l4.879-4.879V4c0-1.103-.897-2-2-2H7c-1.103,0-2,.897-2,2ZM22,12.708c0-.195-.02-.389-.058-.579l-6.407,6.407c-.944,.944-2.199,1.464-3.535,1.464s-2.591-.52-3.536-1.464L2.058,12.128c-.038,.19-.058,.384-.058,.579v6.292c0,1.654,1.346,3,3,3h14c1.654,0,3-1.346,3-3v-6.292Z"/></svg>
      </a>
      {% endif %}
    </span>
    {% endif %}
  </li>
{% endfor %}
</ul>


<!-- Projects -->
<h2>Projects</h2>
<ul>
{% for project in projects %}
  <li>
    {% if project.url %}
      <a href="{{ project.url }}" title="Project Link">
        <!-- Link Icon -->
        <svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 24 24" width="12" height="12"><path d="M7.896,16.104c-.586-.585-.586-1.536,0-2.121,.586-.586,1.535-.586,2.121,0,1.326,1.326,3.64,1.327,4.966,0l4.989-4.989c1.369-1.369,1.369-3.597,0-4.966s-3.597-1.369-4.966,0c-.586,.586-1.535,.586-2.121,0-.586-.585-.586-1.536,0-2.121,2.538-2.539,6.67-2.539,9.208,0,2.539,2.539,2.539,6.669,0,9.208l-4.989,4.989c-1.27,1.27-2.937,1.904-4.604,1.904s-3.335-.635-4.604-1.904Zm-1.384,7.893c1.667,0,3.334-.635,4.604-1.904,.586-.585,.586-1.536,0-2.121-.586-.586-1.535-.586-2.121,0-1.37,1.37-3.598,1.369-4.966,0-1.369-1.369-1.369-3.597,0-4.966l4.961-4.961c1.37-1.37,3.598-1.37,4.966,0,.586,.586,1.535,.586,2.121,0,.586-.585,.586-1.536,0-2.121-2.539-2.539-6.669-2.539-9.208,0L1.907,12.885c-2.539,2.539-2.539,6.669,0,9.208,1.27,1.27,2.937,1.904,4.604,1.904Z"/></svg>
      </a>
    {% endif %}
    <b>{{ project.name }}</b> <span class="small"> {% if project.role %} {{ project.role }}{% endif %} ({{ project.year }}) </span>
    <br>
    <span class="small_black">{{ project.description }}</span>
    {% if project.skills %}
      <div class="project-skills"><b>Skills:</b> {% for s in project.skills %}{{ s }}{% if not loop.last %}, {% endif %}{% endfor %}</div>
    {% endif %}
  </li>
  {% endfor %}
  </ul>

  <!-- Skills -->
  <h2>Skills</h2>
  <span class="small">
    {% for s in skills %}
      {{ s }}{% if not loop.last %}, {% endif %}
    {% endfor %}
  </span>

</body>
</html>
